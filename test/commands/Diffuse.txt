DiffuseTorus_2D
  O> random-seed 43443
  O> foreach sort patches [[x] -> ask x [ set pcolor random-float 140 ] ]
  O> diffuse pcolor 0.83
  O> diffuse4 pcolor 0.37
  map [[x] -> [pcolor] of x] sort patches => [60.18470681963734 70.62909039676663 75.36701849948915 76.60217784551593 66.62277359648827 63.634006339397914 78.4024183548944 96.08833776142785 90.21973700179493 66.15987278261323 56.215158261563474 70.85448679713815 76.24470283943829 80.91716120581017 81.16716951715885 74.00980036361979 61.489454686060455 69.8103934839206 76.62936504049786 71.0567335787491 56.78300950472168 59.562428119258946 77.25280966798313 74.88136985478897 75.08335682915065 78.09072062955005 75.89985218572909 70.50718486758905 69.24622118032157 66.37572311484463 61.870488841712884 62.96304380316719 72.73084236411448 89.75679959079392 76.69785099537266 71.10665312501422 71.22639042004334 83.48300905044655 84.2394929672843 77.08648022107712 62.84781848783369 58.42847082591798 70.69653608707671 86.21041631796683 88.89718786112097 83.99675349434185 75.08547003491965 73.68350017208151 80.14644443906514 84.72941512252793 80.00836382780139 64.98262514120722 64.4012692506541 70.59822296891156 84.18631049773116 81.27789844725653 84.80650861117789 86.10930745377557 73.17243231777722 73.95754541829669 68.29496319033647 73.84225909840221 62.09009502542592 60.839524900023484 64.09597391467035 71.79434685869312 73.32810262519888 79.57661880625014 81.69131340284251 70.882014947657 65.42690487041355 67.70546918193754 78.23638609313572 68.35384881625957 65.34858701302963 61.57753115347678 70.26169276251868 69.08476234865363 71.62214975671111 69.06954789869896 61.00107083395526 63.42496787719977 75.87902808454513 84.75533956916031 73.99369912139349 66.466284419796 61.425060962138986 66.60306765091461 64.40944700120043 68.73634274220198 55.89398717199723 53.08382468294307 62.1243379787383 76.32195481355821 78.16051737198993 71.42430251832437 67.23600311357377 62.470732868837295 61.89949223778842 54.336390496354596 63.181416084135286 55.154803968251606 55.19953380003725 55.226257904146394 69.30275930443914 69.56859101730232 76.96700693142333 78.11218243737586 66.28819399274647 55.93089751326926 55.02292925358433 64.10038227723638 64.90425114251723 63.53448790372188 60.44396666262723 65.43544954188377 76.45965355402691 88.13107016092397 87.70485588587059 70.63648750028176 58.49109487846925]

DiffuseTorus_3D
  O> random-seed 43443
  O> foreach sort patches [[x] -> ask x [ set pcolor random-float 140 ] ]
  O> diffuse pcolor 0.83
  map [[x] -> [pcolor] of x] sort patches => [64.20288606197411 68.13282611294265 67.74882498462065 75.5357020314057 72.99047627147885 71.34764329531114 79.77363878808795 84.48465872054618 68.15181493407128 52.43051234957479 49.5694483782202 72.77774302723567 86.20244497482639 77.29554738008163 77.37172675957993 67.75354447638504 61.90546416735577 74.74060114449772 73.59900051544741 70.14519730733664 53.325186958046544 57.0664421409229 68.27018346210717 79.09203610565093 68.87846583215864 78.99995702969008 68.55142770271445 75.13291589326252 73.32368655528532 71.11390487592443 61.72899905629217 49.74515791796567 67.18873152228512 76.5690465434796 68.33565924928305 73.17598771486963 51.97813882165798 75.760584173799 76.25612101576277 78.66333879544001 69.93026585919549 67.99594028138085 65.08653378211434 74.50403439859403 75.5420679212599 84.46197541590493 66.3086217628233 67.22878857780945 68.29513301439785 79.78510158502445 79.74119887247976 73.92265663664462 73.34692218327709 57.77542243065845 73.04151319119963 63.30357683697435 81.16627894008676 75.81342026247395 60.3649121696368 60.826696701702254 59.42395830807144 67.68101074721815 73.36927193881027 66.9684144116741 75.77333887173235 63.572385816505594 58.47587846398178 69.15228741494958 63.9185230191103 68.91388470013443 54.339210311138345 69.292553054912 64.98452656355883 77.94580668167522 64.96724986385118 60.12245029335002 66.3519597681227 61.6420520735558 52.21866358162365 65.67580805984673 53.01020497661677 59.52815656360576 75.68419337407008 80.33350026327737 73.00212055687797 66.93572989887664 70.6785892520377 66.40049505540574 65.07561932403351 62.52560158256134 57.98891645435053 52.98121078574198 77.48462675129866 68.05091577871396 75.5797021312661 65.71509204547675 69.91128809663307 71.24913889135559 66.82938923851053 60.99289462483934 61.99807193602362 57.43144661434167 55.355903292708604 62.597035096796674 74.23496466920653 69.17959557324117 70.62386485968598 75.29058433946865 69.24589704711624 63.63321467936211 63.9677737789854 64.53287786630892 76.0220297935233 53.512419832154116 61.31101687394997 61.65896517669084 81.42406102100611 77.91235478296275 73.61613135246085 72.10334436282162 64.59288448091161 61.19273887469204 81.4296923657867 87.77856900920148 81.33425451180814 80.28969917919186 79.40944450559809 74.69377199354105 68.4455503529216 63.3083608836251 54.485595442666174 50.75855292399744 67.4695270468057 73.26910148111283 89.40378959595624 86.30810715692577 80.89265606221124 67.41818982111832 68.34328453752553 77.53866261800127 73.18346960965815 57.950134061607386 52.137432618039504 68.27579798005368 78.31509820995703 65.75510129022649 62.362077775434564 69.94012672452956 81.54181378369898 76.7681253633095 69.95927300217119 76.31113387125299 61.02845074346426 59.330137484721384 73.67424219766868 55.81930561281981 54.745454846841426 52.87518660954395 70.02101845029347 81.33745231863902 81.04655012291609 71.09777432943645 64.8242252480735 56.67388910333783 63.09486002847016 67.8219440423594 69.5623524157688 60.45135050668716 67.27182395056691 61.44443847870223 70.2175492821307 71.9730244392184 69.89921576389841 68.13701202302698 75.28841713757782 61.11743752821635 81.38696464528158 73.50988774137807 72.79719889166952 54.893396579621275 62.55060055493828 68.73042944067961 78.6888195945157 73.73945669057349 82.60279971492685 67.68249402682419 67.66369701316783 63.88861217410753 63.4600531305377 77.20352982300683 62.58034942592389 58.939789762560466 72.64262106445318 75.61437724842567 76.58541676970009 77.18451479153214 57.060968880533416 65.89552235643184 46.93107998996438 55.09498446092868 63.413253751271455 79.29940659085594 83.07696802841234 64.59064313059791 76.6791566385779 62.10350714767395 61.54371338549318 69.26291401489524 49.96087522044367 50.41753272667961 54.069410588993534 60.61381036654788 74.11493149883557 86.47106995273587 78.80381661336324 68.53468520697338 71.78880106706109 64.73746927974535 65.21953673773304 64.8210679302058 63.41529511321869 58.1745128940329 55.81430432447322 74.88407595478479 80.00343875942619 77.02074892139554 70.19851193381395 61.94626904950175 68.49924909090436 65.76867030287275 57.744988063471624 54.58285739531719 58.54307431070898 69.43705662983393 78.16044403923331 75.20564685312229 78.62856369837573 74.437119718397 62.62081986712638 54.23007740981958 55.33423870344836 47.1746006695293 51.518317337307444 69.88079317817709 81.19839788066382 86.50914296268844 78.87415897647386 88.71932817682787 66.76562358088735 61.843559386943 71.72170338657986 53.459657485891114 50.7616075243768 77.87651933834422 79.83884728067795 78.74618403071217 73.66705811365826 79.27249140669889 82.04884225952085 80.48921760238684 68.39867117210812 57.34286815511889 72.99111833196623 61.91063296132549 60.216041095625705 70.42921242180024 58.12173300012062 54.63033051597231 79.61346598332625 76.95197738870631 74.50858174207428 76.63503732062905 65.03005560434636 57.58507161619989 68.3152900663448 67.94859082357937 57.00260466769238 56.445071264214555 51.30394737962545 63.07054472981008 76.28329095736807 73.56858952826461 67.22013369209338 67.78655749529612 58.059206149440385 60.22332602511006 74.09526149482178 64.29898271503426 61.919182119863486 54.39356845596927 66.27453075733642 74.11483386865922 85.28873978112995 74.49484580382453 69.64365041082105 63.38518301585032 75.51134771485023 78.12995069503613 76.54467003119069 68.58718946612113 70.26794089822474 63.45282092802178 65.5711934491671 64.90925169268006 74.91343207088919 73.58675403281592 66.00319365772495 79.59823603516956 70.98820247039149 68.18977621298461 76.61932240825502 68.15965822102581 76.70098691035781 63.81282625437942 67.05545433970175 64.11592453270094 68.56737248900195 69.40067738718379 71.89366124400486 52.432144882649744 54.02651088597392 63.64097669072801 74.87497885444303 72.76585414392113 81.98911781384578 66.25655609184302 67.6744272865273 62.89125743466599 58.630660268293994 63.68236602230341 50.29803524650213 42.928028824537094 74.04892890384257 87.56611665468019 90.12389266555401 89.45984949437683 69.6750315552598 66.42951133863016 72.12148182165558 68.35091261693631 55.792399160735826 42.127590348981904 46.77306698936672 56.65322075614832 84.78659546729628 96.49834787870726 94.0253803584792 72.745115638147 66.47884738985265 75.92648759876181 62.52242505675405 64.63221615516974 49.72609727599287 52.564864605122786 73.31015587182887 82.62629268685116 96.39805263169893 86.40094304965453 68.84625126272331 65.77830726916329 58.12518626951087 59.79829145491936 60.3750627692409 68.6519859428982 69.59821930796993 75.91161111546046 68.78266600776975 81.51912430797317 93.32309602385959 88.01967319494004 74.3036267415615 72.15155993739211 63.109312304200095 68.19550172950895 73.82721189184937 75.79587450596382 64.25001562393446 60.93222017728071 73.77504781918893 72.95059434577978 64.55299292698109 64.64345241034641 68.35265738753719 61.83995075406327 72.19325107208675 78.24250769362645 66.80390301137304 63.259169155668964 68.58214452611696 70.72814248155174 73.59954515880656 77.32974846125086 66.23655245620726 58.85026780589507 76.62896939497661 74.64050810956124 77.94736985383811 75.2359801182979 64.92753642497281 58.261101875079 56.89080113840141 76.38551434225651 81.44218789407194 67.44809860815631 72.55078207941764 76.93070616133248 68.26009842379004 85.7476201390174 79.74710664391125 63.96489113871235 71.4452595476723 72.11029118281662 71.41092174156068 74.3074976038063 60.85241300191663 72.97330285748144 74.45781622392829 81.76081338194474 86.31670636454307 76.80635639661665 62.40915371064464 68.11808758148855 69.92280325091734 65.37145432301558 69.97749411116781 59.837920766461814 60.740956391254905 72.73231216017595 79.73071629893971 88.11300085474977 73.76436449661963 62.231727749182596 55.92937300736473 73.52495333657647 62.17269524362761 60.4431330717163 73.25500337890819 61.61571947166536 58.7147576398715 67.8079519403941 73.76200468753005 68.97292392650176 52.017167458220946 73.06435809748893 72.32919755676171 63.20169517394401 81.39489156539884 71.32559735245653 75.88231487081217 74.15760751475405 69.7007391756049 61.71680998274115 45.693967290241474 54.170390189132675 71.17823922340008 95.82862814907357 89.92784007010084 83.59165465546923 67.915065517332 64.0914940177307 81.82465306138498 70.20798927485362 41.58600484211024 40.33197879919562 65.74564642496908 88.50110427982607 102.85918347735478 100.65308128835754 81.46613419163981 72.41794776907714 83.3717089767018 78.425046313397 56.27403411716812 47.033597474245894 51.83466019263183 75.54701811526625 80.86380100191029 94.35689408741219 100.3630314719494 93.37557720692166 81.73140689556034 79.42532712183784 81.76008814241705 50.51847588376449 66.19145326243728 77.36935480197987 68.13078207806201 55.631222405180786 66.73947688136604 83.98540549594249 87.46380894367798 85.76505190323765 76.55038387198121 77.76408869692693 61.29672157137641 76.36917584182412 85.64243999865211 68.06088180634296 58.90853242136034 64.95733604439216 76.25362003593294 67.48830086135453 57.49617789275986 68.79581909532091 70.91148628662604 75.90227312361661 70.97204704325989 88.90165671937467 69.96338563206282 58.99433520871213 68.55464758749724 60.082888047512995 56.734187741114724 65.84866382284565 61.56421033082306 74.13518982897789 70.70195208369793 88.46748300589499 82.27141243063541 81.18939298288379 69.01191529273545 75.31919916574356 77.59771060419261 69.65881589134852 78.34514810679954 80.46552205851523 75.71688910119639 83.81490532923436 90.43803063152356 86.69512924775216 77.57123119789605 68.4219164945922 72.46882956909175 66.02042253523139 67.85862087026165 73.01138908992138 70.93123303189415 78.27583586367305 96.03421861341369 85.00940606965482 72.83044289837208 70.59030920551805 63.82338565218518 72.44729683295787 70.73255157456597 58.272051317442425 66.07449509689505 57.09513009176578 76.66075485938248 93.26903869506538 82.54865512293446 76.94860037570243 63.68206792055158 54.94175684453232 64.41375882452974 61.959095827644454 76.89439834987382 77.03499887893862 75.99686988221114 61.10309207157043 76.94109650468434 81.75973714682578 61.74734023421753 55.48732299825729 61.046231410875 61.84684163483031 78.47887040252705 73.5154152838771 72.6162402976564 72.89173153034643 62.75326202727743 77.94202842570235 67.20484225543308 51.50528022178711 54.246503135259715 68.92200259869615 87.18343299824275 79.10364959408402 78.35991685654776 82.61935213316987 72.98279623416185 86.05650369981245 85.42948392332228 61.08205309088544 51.04044552206183 46.9021100930636 78.97786350763275 85.22527164023124 93.38529216676535 85.3236440247945 67.95416228293699 79.15265022947285 80.72113778179296 75.5474693197697 65.92814646722279 59.576857277685484 61.051146710008894 66.60815262259617 74.7656545964335 94.69911214687986 87.41593275544642 86.41609423414921 78.99717346076538 70.1653228180797 63.36880376788967 85.42308906139854 84.35599590308405 74.74898997232593 62.79351435418055 67.763339035719 64.07041480887302 73.71644932768585 62.38023186702575 69.103303340783 76.0377178906276 68.82054762936188 81.85703588474946 89.48397763888221 85.28882828763395 69.97951020667249 68.27638973958021 77.33669991651476 55.589987941850616 59.487343804433614 72.75192180942109 62.41206015465605 60.449092151613115 75.871850113434 92.03569923739389 96.48257899767354 77.27998048508091 84.06848195427112 71.07766874680942 63.14735823168547 59.146476294561936 73.95437395044925 70.8991621329318 72.44485850116808 83.95586310954596 94.53796837551664 93.78872258587175 76.88965242479313 62.29082525222327 69.42589735207838 66.43533502414404 65.25241641120785 77.70508430185905 90.45218543354012 75.63379487566462 93.89487710877525 76.95867627141367 82.23808469120927 70.8325336881871 80.10570932812655 65.47415198863153 81.22194426072639 74.4619896511476 82.57583114993886 89.04645022680984 92.9069951868407 93.1842941419549 84.88375206412684 72.64999787246367 78.22392457546972 70.94355887076898 69.73472037737908 68.88483881864701 66.53953054818955 68.76149082670406 85.40801821025016 99.9438753317392 83.83459311043553 74.36739658450958 70.21728106684647 68.54547732192333 71.43701853515063 72.88249123266182 68.34611648942641 65.65904353111415 66.65147112664826 78.66362692668201 88.98910724487257 62.60504527048947 75.38526354939754 68.85868171102095 63.28441484534132 62.69889158957155 78.87608762385103 83.87432928341312 82.57922450022672 78.91854328927445 68.6780637127373 70.12834196629767 61.21615628207773 64.31448303339052 76.11506811066911 65.67804997979275 72.76469837867475 73.73633349818861 66.71372285858412 64.14244804092702 63.235912250916 78.4188804653072 61.507801580698455 68.42489710604067 67.1745060232073 76.59256450216627 66.36394265156049 69.2740614449256 74.48886606513096 74.53272690059612 55.43683615919025 61.43476971167328 67.8483596974709 78.38265807981288 75.17806764216631 68.54301600451618 60.7678840267924 61.631038359024544 60.22421227138402 79.87030593039029 70.63933098835236 75.25745292468685 79.37875992593062 71.51679084903323 81.02748572873541 82.7325725261248 76.4272937131662 73.06780620936098 74.7142661362803 69.2412771510308 61.27512847107132 52.55036949772316 62.249515838308255 57.45049858750151 52.1832907766722 65.9221993232271 70.79208296053295 79.4349775606802 76.23976341088691 81.58256911837583 81.08333210389424 75.46155542709589 52.38676090744523 59.840174773389464 52.446613624487945 58.29508377447139 65.67397322635216 56.89652056102822 77.4979032198196 81.8170295723704 85.32607673261043 69.40050766645253 80.54184985039163 66.11734117127764 62.17293105466296 59.91535777163852 65.32485440847066 63.30955087785603 59.791813918603566 76.00532897574861 84.11178606307249 79.93501393761849 80.10055518405477 67.64925408506852 62.742765418234534 71.61819790022182 69.43419846128512 81.8212354896666 72.32482777630327 75.58063518599215 85.3862271840298 73.1435152520044 78.08920407194451 62.93932469464381 81.4078415205395 79.50932405910459 67.20301316917772 84.96670822172322 88.34249442216695 94.46095951174927 91.06347201637885 72.86401257153545 74.85203171107052 75.60172447195045 78.4161281962467 82.44830979092087 81.60317760370546 62.01291798268829 75.59078283339531 91.66887486921796 95.7233245897917 85.10043919917027 71.35790050823624 75.79920796413796 78.28236419149965 75.50328900408174 75.09872484541371 81.40952758412482 85.23592535516603 69.76671952749358 77.20718772528562 82.20955803120917 67.23171930084594 77.31905072167807 78.72559521351403 72.42526245707008 68.46266918936864 65.66625408587988 80.94414442410309 69.93661501462985 77.32108896757956 69.19582060814103 65.77442128372712 62.244669354480706 81.29132646344796 86.0101401834381 75.39631385206971 60.963119500327224 73.93101144416322 78.03983257164259 66.49309960363084 56.76949590477908 57.02074930923321 62.22715345086628 64.75053442642144 70.03535870191804 83.06840886521971 76.22528945237154 74.07375379456765 61.505203670597524 63.42481408566161 58.6476609007826 51.781502228962495 62.810892908143394 70.51560364248073 74.23777614002351 83.07992385326845 77.98619167562265 72.39529381930656 70.26653796401995 57.49299538766462 60.019879413600236 64.02828973004037 50.828901759572396 70.93870548694503 70.5407747559985 69.00871929921296 77.9349316547967 81.69177143045442 76.63374620041563 84.19986603618977 76.25608730450098 67.07516060651827 50.13822678050557 48.81633377352322 50.294734391085456 68.11146332151252 62.48633211437658 71.40327679310626 66.22999826145536 72.23046492808477 81.05165342970837 67.43431546118698 76.40322987180463 68.09682945581187 55.67587045842616 49.310642158453284 52.25081304736535 48.477810185319726 56.04775742979177 58.66738419625333 74.6094506599652 78.73246058095408 71.18085373471496 66.14543271004288 58.87041260680894 64.86479480334003 57.48024646738024 55.0220290767057 56.01206681640361 58.05299685666692 73.13414324918051 61.277914788894115 65.97383640424583 72.50586189252166 76.04469040046882 56.848016650515625 65.1939125617987 74.06795286047654 65.66864315301991 70.14970751777854 69.13809949858877 64.35337327025944 57.39875261095585 54.214995517873746 77.0491274670751 68.38889894900781 61.47356763441435 70.71958800074862 85.33041518877417 76.88395489177546 86.17891056385733 66.25576623042443 71.35898949693635 73.97434158976962 63.758294922817846 73.32656140629219 76.2587835244254 70.76878215969595 73.64600567072594 81.12799684350352 91.64595502159975 69.53432065326076 71.85041268451221 66.73705589035555 62.161306155628736 66.2734893349884 73.70283620550505 68.91425064603632 67.1500491793433 70.88718767134911 88.74472027645965 93.5557720621018 89.19208214395691 84.8229496292793 67.43437548265538 69.6619700935071 71.32428964929117 65.16296689261337 71.42859521822822 74.34347602372004 71.06655371148777 63.29900466452062 71.58071934168365 80.56591582582274 84.75966346119759 77.93662850627742 69.53526160097377 64.99055752371017 65.9713135165122 67.03139397369165 71.63250668788515 63.44660554154781 62.00295424455899 68.08535306458744 62.3086001694242 63.54131382884581 86.22933033880219 83.98028216698111 69.65454664342064 73.61133698581823 63.97883339766895 55.01366189350121 51.53787963482819 49.025428226424765 74.41132306578605 67.72475885548005 65.59522168747588 63.487743600151816 85.80229572975408 76.31077562425034 69.6872030755843 53.966425799978616 47.07157552988573 50.06520658032794 53.89276905902189 62.52316025566223 58.39280005724134 49.44511740829627 75.70852431526804 65.93069599137628 81.07425866891606 69.63899489168679 69.26006617867672 67.26793600430615 62.20748781994298 57.86595014586558 63.14925307341014 57.44181238451078 56.217718237456396 67.48624806821309 77.91192795877669 62.219750881357584 79.02929031963265 74.95202712182082 81.8395403215686 53.26538033947208 65.36200812361879 51.822159980938395 61.092829905890554 51.04632721985887 58.065070857369605 63.47070879104371 63.082992940754394 75.10686830685971 75.79750526038477 70.89436364280947 68.31128138793439 55.89940208285206 49.12261383941203 65.98272447288191 65.40210771687644 51.85024700162327 55.99072689997184 63.08146271193929 67.09587198325437 58.328726038767556 66.75435634591726 57.12655308616484 61.9737033242579 50.92412693172321 62.19188904379088 74.17199525020746 76.69437500685564 59.810369256253786 64.77880377871934 68.50184264077187 62.86707193834939 56.90429346952151 59.58267957323103 60.08314637035243 62.030875020692854 69.58440040681887 69.26416849132355 67.0308187068886 68.02601936667621 61.623344221630184 71.53017929841607 65.05595140999789 54.40708598895502 64.64281427636848 77.29652689049372 81.66663848014737 84.84614377621345 73.54530191374802 71.56950717952364 65.5779452056426 69.39802149786843 58.627138168118 64.03192724705548 66.86196293979127 75.68418775751849 78.22968856852529 91.50633257876159 91.754364947507 86.17989712351118 78.95296099566986 68.64671674650344 60.90163729436574 61.23337136020315 58.58490201108062 59.347884306303385 76.1208576418127 80.88109361422677 82.46420998538964 86.96328526851738 80.99987518698127 65.28760280562517 68.46110263902527 69.11879700647937 72.52857008565725 63.20463684778658 64.19966978358052 62.5925204868734 76.17791695595037 74.23540150896054 82.30365986374821 66.36105081365977 67.21952536019936 68.62775116934577 76.33462666293899 71.29352364866104 64.55438706375483 47.18189870156514 54.77526111074664 64.99665111890458 67.66856087545263 60.60766700719366 60.373201635931444 66.07867167450264 81.31585104714954 76.25991060908302 67.32151221359862 52.52077051245412 53.74909833183933 45.84205208749673 70.2620519334187 74.9874369640816 64.20292076165134 59.862470350185326 65.94067868556711 76.38825155271786 60.76244288244771 66.5628507409325 72.92278671744305 65.06174010485041 71.73852683744488 71.96020488752823 75.03637599935746 57.21438337042402 68.18769387481228 58.45711947203709 74.6946579343502 70.96335477632317 70.32496895229846 81.44165978727098 85.59581227651888 72.40046662011908 57.60987323807535 65.2319585477911 60.246300621693614 76.46607938741383 67.02416225009422 57.313967351732366 65.30828263244973 77.17025933006367 88.72539960637883 65.94869653174919 67.79409093832125 44.58708866633347 59.54213373733212 72.1126317441477 86.48845132779283 76.20142570122708 60.480650799264346 50.52384004089727 66.25546955219278 60.14912778167522 62.31621771070514 65.66829250499097 52.00328227520992 60.36046187897796 65.45724009954439 87.94296960178396 83.97972682077935 73.53621016309378 72.34714674419219 68.66575403924334 61.754066280501306 66.397288448768 71.00994258733428 53.05937031801137 66.43301218936557 72.82165492728488 80.3216748322209 78.7158584362168 76.18594700852864 58.605758906320865 63.701367362591725 66.76559018809591 66.94428393938217 58.97368928990546 65.42741550106088 62.32351048428973 68.4469484478854 66.33606589217891 70.62380750033387 66.17529879497651 49.85673572571884 48.15448941796461 58.05271178127624 72.5929043516559 66.64614994205209 65.67016069343742 83.47995482613638 76.14106370354177 74.55619723036553 60.61344559585203 63.391698913342026 61.75437316389504 56.81906534616997 56.94675101654931 68.0028900291913 67.76662926304675 81.96189573591023 82.62155936821208 88.4569516586557 79.27593973965196 74.90891683849868 65.25770588386905 73.27794661828318 55.545940892984405 62.068403319695065 64.13814545291842 78.77320324707875 66.82557397298528 90.68119903454644 70.82485286382966 62.97336020889714 77.58241467695515 76.5918923010874 67.21149560105009 59.300573372098185 67.83126992550831 66.21009229581011 63.15227939674931 74.46147461730595 88.69161368387108 69.27390760899277 60.26780764942448 65.1273862023308 66.70083106771139 66.44514480005306 69.07810773558771 69.84102401489899 61.84139321305979 62.199167571322505 74.56641304104815 86.0850655300764 61.83954413630329 72.71358949607651 61.66899795319675 65.58743087522967 63.248491335241816 76.16595258096011 84.64328953002277 75.34546400504222 68.77462085505555 70.43522463545892 71.72518278473126 80.19032570786342 64.65785572356057 75.8219784084839 65.38803356736595 72.89832462656163 72.8424232474927 80.45872150701152 72.41837096068764 56.247948298398306 56.14655368126546 57.55311689858136 79.35541825392723 86.60711118508307 74.68118898464712 63.548170587161884 61.99421029739215 74.49355438972525 70.39240712899498 75.75686318132924 56.611408065364955 59.05539632953591 55.59491250814734 79.66297382587871 91.74037686204373 78.10934751850665 66.2299848446628 68.88920709632683 72.00107469693353 77.05602020265741 72.12188473801811 53.7373276894878 63.32627483895606 61.74547301205605 84.26102390511352 92.4548633056589 82.44676759467117 69.45765015088239 65.82931031906313 66.32821360871439 72.43624285563203 76.16808856736044 74.36693880378736 60.604607965712326 62.37244900652595 82.19965185343469 82.65764149730438 86.09956638836555 78.55079460421123 60.30428483268207 58.848829817032865 74.14149508637537 60.13562294597971 76.88960878501985 70.02445870751701 56.76158673160444 59.23189844804905 72.59598815112835 67.33707726520701 55.32398115632623 63.48845039848674 51.705033632698814 69.19588854447929 64.8127775050658 63.460697539796286 69.41554104481537 72.24133551777507 73.32877159090546 61.39538586855363 54.657920958532074 54.75525968560006 54.22682694080343 62.23633586214836 62.070417234647515 69.34816104584552 67.05711212416823 63.3240418555008 63.47193201954327 65.99861620232794 74.17858625799578 68.11948826622199 67.37402876106681 59.78691563433009 70.35172927831027 77.28587568269045 67.00988646907562 71.79576072677813 82.18515046504234 84.71638183642885 77.30064611488147 68.31607340580369 68.51690657789281 78.45356521596685 53.88780817702414 67.02173420983812 73.47796653245973 83.12122233106146 74.62975511514742 85.21816709931815 80.05757931344841 67.51343302587743 62.59752963929175 73.96268842248082 55.97340441794843 54.10365970442051 60.21591482880007 76.33954629391505 81.21450400881398 70.00627682779847 78.93200731661359 76.87287335002776]

DiffuseBox_2D
  O> __change-topology false false
  O> random-seed 43443
  O> foreach sort patches [[x] -> ask x [ set pcolor random-float 140 ] ]
  O> diffuse pcolor 0.83
  O> diffuse4 pcolor 0.37
  map [[x] -> [pcolor] of x] sort patches => [98.50092925529287 72.98743815710306 70.58907804646981 87.91822050122158 88.83541671713533 68.31161681419849 78.48255796406039 100.00393166885675 82.03514514218541 55.55131840647061 32.22550814274432 79.14317260107954 76.32186046304577 80.087662206328 82.17963805385746 76.63569574204803 61.7828865044266 69.71327665847943 77.11141263211675 69.9997291113901 53.822352528525805 40.17179553875092 79.33726307492188 75.1362664480637 75.08335682915065 78.09072062955005 75.89985218572909 70.50718486758905 69.24622118032157 66.37572311484463 61.870488841712884 63.73431179065946 76.74979063982803 87.81148427732916 76.25205224053089 71.10665312501422 71.22639042004334 83.48300905044655 84.2394929672843 77.08648022107712 62.84781848783369 58.42847082591798 71.03245436621381 89.96698822145264 93.39781366627403 84.78246164159437 75.08547003491965 73.68350017208151 80.14644443906514 84.72941512252793 80.00836382780139 64.98262514120722 64.4012692506541 71.45586243844417 90.6289999143587 71.28987826724824 83.37715284007028 86.10930745377557 73.17243231777722 73.95754541829669 68.29496319033647 73.84225909840221 62.09009502542592 60.839524900023484 63.74264805215768 69.3138392319076 65.73474377830512 78.68882739529593 81.69131340284251 70.882014947657 65.42690487041355 67.70546918193754 78.23638609313572 68.35384881625957 65.34858701302963 62.27763611696718 76.12130803566008 75.11526389478344 72.46910497468784 69.06954789869896 61.00107083395526 63.42496787719977 75.87902808454513 84.75533956916031 73.99369912139349 66.466284419796 62.093027136923084 71.10711142305706 66.82584486022209 68.81301774136185 55.89398717199723 53.08382468294307 62.1243379787383 76.32195481355821 78.16051737198993 71.42430251832437 67.23600311357377 61.283525243308596 52.81240920128187 58.3451366773888 62.879490869509354 57.19599359079107 53.401265038708054 53.79319847108216 67.0659552727132 70.13293723325512 77.68763349403483 78.6719060004723 67.96261812656428 52.350838791418866 42.00351048415711 56.2853720737468 77.1345361005901 48.48523492675532 44.819167001562754 47.23859170941881 79.28825626026803 93.5792850254897 94.23643746075504 85.54160930050139 52.75983357976726]

DiffuseVCylind_2D
  O> __change-topology true false
  O> random-seed 43443
  O> foreach sort patches [[x] -> ask x [ set pcolor random-float 140 ] ]
  O> diffuse pcolor 0.83
  O> diffuse4 pcolor 0.37
  map [[x] -> [pcolor] of x] sort patches => [77.92533419418464 71.12503805041383 70.58907804646981 87.91822050122158 88.83541671713533 68.31161681419849 78.48255796406039 100.00393166885675 82.03514514218541 56.76476083416957 48.88515511281559 73.22805007040922 76.02128248909843 80.087662206328 82.17963805385746 76.63569574204803 61.7828865044266 69.71327665847943 77.11141263211675 69.9997291113901 55.92482574524218 58.48605865183292 77.25280966798313 74.88136985478897 75.08335682915065 78.09072062955005 75.89985218572909 70.50718486758905 69.24622118032157 66.37572311484463 61.870488841712884 62.96304380316719 72.73084236411448 89.75679959079392 76.69785099537266 71.10665312501422 71.22639042004334 83.48300905044655 84.2394929672843 77.08648022107712 62.84781848783369 58.42847082591798 70.69653608707671 86.21041631796683 88.89718786112097 83.99675349434185 75.08547003491965 73.68350017208151 80.14644443906514 84.72941512252793 80.00836382780139 64.98262514120722 64.4012692506541 70.59822296891156 84.18631049773116 81.27789844725653 84.80650861117789 86.10930745377557 73.17243231777722 73.95754541829669 68.29496319033647 73.84225909840221 62.09009502542592 60.839524900023484 64.09597391467035 71.79434685869312 73.32810262519888 79.57661880625014 81.69131340284251 70.882014947657 65.42690487041355 67.70546918193754 78.23638609313572 68.35384881625957 65.34858701302963 61.57753115347678 70.26169276251868 69.08476234865363 71.62214975671111 69.06954789869896 61.00107083395526 63.42496787719977 75.87902808454513 84.75533956916031 73.99369912139349 66.466284419796 61.425060962138986 66.60306765091461 64.40944700120043 68.73634274220198 55.89398717199723 53.08382468294307 62.1243379787383 76.32195481355821 78.16051737198993 71.42430251832437 67.23600311357377 62.470732868837295 61.89949223778842 53.219605011532984 62.178694946225285 57.19599359079107 53.401265038708054 53.79319847108216 67.0659552727132 70.13293723325512 77.68763349403483 78.6719060004723 68.17486037629432 55.100171285517 43.96551823241686 56.49574384309019 77.1345361005901 48.48523492675532 44.819167001562754 47.23859170941881 79.28825626026803 93.5792850254897 94.23643746075504 85.66050604808865 53.21039476658563]

DiffuseHCylind_2D
  O> __change-topology false true
  O> random-seed 43443
  O> foreach sort patches [[x] ->  ask x [ set pcolor random-float 140 ] ]
  O> diffuse pcolor 0.83
  O> diffuse4 pcolor 0.37
  map [[x] -> [pcolor] of x] sort patches => [81.16724943179709 73.2463029235181 75.36701849948915 76.60217784551593 66.62277359648827 63.634006339397914 78.4024183548944 96.08833776142785 90.21973700179493 64.91247519788963 43.079959984667944 77.52442174787073 76.54528081338563 80.91716120581017 81.16716951715885 74.00980036361979 61.489454686060455 69.8103934839206 76.62936504049786 71.0567335787491 54.68053628800531 41.21420984915231 79.33726307492188 75.1362664480637 75.08335682915065 78.09072062955005 75.89985218572909 70.50718486758905 69.24622118032157 66.37572311484463 61.870488841712884 63.73431179065946 76.74979063982803 87.81148427732916 76.25205224053089 71.10665312501422 71.22639042004334 83.48300905044655 84.2394929672843 77.08648022107712 62.84781848783369 58.42847082591798 71.03245436621381 89.96698822145264 93.39781366627403 84.78246164159437 75.08547003491965 73.68350017208151 80.14644443906514 84.72941512252793 80.00836382780139 64.98262514120722 64.4012692506541 71.45586243844417 90.6289999143587 71.28987826724824 83.37715284007028 86.10930745377557 73.17243231777722 73.95754541829669 68.29496319033647 73.84225909840221 62.09009502542592 60.839524900023484 63.74264805215768 69.3138392319076 65.73474377830512 78.68882739529593 81.69131340284251 70.882014947657 65.42690487041355 67.70546918193754 78.23638609313572 68.35384881625957 65.34858701302963 62.27763611696718 76.12130803566008 75.11526389478344 72.46910497468784 69.06954789869896 61.00107083395526 63.42496787719977 75.87902808454513 84.75533956916031 73.99369912139349 66.466284419796 62.093027136923084 71.10711142305706 66.82584486022209 68.81301774136185 55.89398717199723 53.08382468294307 62.1243379787383 76.32195481355821 78.16051737198993 71.42430251832437 67.23600311357377 61.283525243308596 52.81240920128187 59.49587731923505 63.882212007419355 55.154803968251606 55.19953380003725 55.226257904146394 69.30275930443914 69.56859101730232 76.96700693142333 78.11218243737586 66.07595174301643 52.426752599108866 56.43978236605964 63.92396566491763 64.90425114251723 63.53448790372188 60.44396666262723 65.43544954188377 76.45965355402691 88.13107016092397 87.70485588587059 69.76277833263224 50.73027658668857]

Diffuse4_Horizontal_2D
  patches-own [somenum]
  O> __change-topology false true
  O> random-seed 43443
  O> ask patch 1 1 [ set somenum 10.0 ]
  O> diffuse4 somenum 0.4
  [somenum] of patch 0 1 => 1
  [somenum] of patch 1 0 => 1
  [somenum] of patch 1 2 => 1
  [somenum] of patch 2 1 => 1
  [somenum] of patch 1 1 => 6

Diffuse4_Vertical_2D
  patches-own [somenum]
  O> __change-topology true false
  O> random-seed 43443
  O> ask patch 1 1 [ set somenum 10.0 ]
  O> diffuse4 somenum 0.4
  [somenum] of patch 0 1 => 1
  [somenum] of patch 1 0 => 1
  [somenum] of patch 1 2 => 1
  [somenum] of patch 2 1 => 1
  [somenum] of patch 1 1 => 6

Diffuse4_Symmetric_Torus_2D
  O> __change-topology true true
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor) patch pycor pxcor) with [ pcolor != [ pcolor ] of myself ] ] => 0

Diffuse4_Symmetric_HCyl_2D
  O> __change-topology false true
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor) patch pycor pxcor) with [ pcolor != [ pcolor ] of myself ] ] => 0

Diffuse4_Symmetric_VCyl_2D
  O> __change-topology true false
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor) patch pycor pxcor) with [ pcolor != [ pcolor ] of myself ] ] => 0

Diffuse4_Symmetric_Box_2D
  O> __change-topology false false
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor) patch pycor pxcor) with [ pcolor != [ pcolor ] of myself ] ] => 0

Diffuse_Symmetric_Torus_2D
  O> __change-topology true true
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor)) with [ pcolor != [ pcolor ] of myself ] ] => 0

Diffuse_Symmetric_HCyl_2D
  O> __change-topology false true
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor)) with [ pcolor != [ pcolor ] of myself ] ] => 0

Diffuse_Symmetric_VCyl_2D
  O> __change-topology true false
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor)) with [ pcolor != [ pcolor ] of myself ] ] => 0

Diffuse_Symmetric_Box_2D
  O> __change-topology false false
  O> ask patch 0 0 [ set pcolor 139 ]
  O> repeat 50 [ diffuse4 pcolor 0.83 ]
  count patches with [ any? (patch-set patch pxcor (0 - pycor) patch (0 - pxcor) pycor patch (0 - pxcor) (0 - pycor)) with [ pcolor != [ pcolor ] of myself ] ] => 0

DiffuseConservation_2D
  O> ca __change-topology true true
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600
  O> ca __change-topology false false
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600
  O> ca __change-topology true false
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600
  O> ca __change-topology false true
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600

Diffuse4Conservation_2D
  O> ca __change-topology true true
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse4 pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600
  O> ca __change-topology false false
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse4 pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600
  O> ca __change-topology true false
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse4 pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600
  O> ca __change-topology false true
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> diffuse4 pcolor 0.5
  sum map [[x] -> [pcolor] of x] sort patches => 600

DiffuseConservation
  globals [ glob1 ]
  O> ask patches with [ abs pxcor = max-pxcor or abs pycor = max-pycor ][ set pcolor red ]
  O> set glob1 sum [pcolor] of patches
  O> diffuse pcolor 0.5
  abs( glob1 - sum [pcolor] of patches ) < 0.000000001 => true
